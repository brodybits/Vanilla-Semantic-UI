!function(g,u,d,m){"use strict";void 0!==u&&u.Math==Math||(u="undefined"==typeof self||self.Math!=Math?Function("return this")():self),g.nag=function(e,r){var o=g.parse(e),l=(new Date).getTime(),c=[];return o.forEach(function(n){var i,s=g.extendSettings("nag",r),a=(s.className,s.selector,s.error),e=s.namespace,o=e+"Module",t=d.querySelector(s.context?s.context:"body");n[o],u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame||u.msRequestAnimationFrame;(i={initialize:function(){i.verbose("Initializing element"),n.onclick=i.dismiss,n[o]=i,s.detachable&&$module.parentElement!==t&&(n.remove(),t.prepend(n)),0<s.displayTime?setTimeout(i.hide,s.displayTime):n.style.display="none",i.show()},destroy:function(){i.verbose("Destroying instance"),n.onclick=m,n[o]=m},show:function(){i.should.show()&&!g.isVisible(n)&&(console.log("hey"),i.debug("Showing nag",s.animation.show),s.animation.show,g.fadeIn(n,{duration:s.duration,easing:s.easing}))},hide:function(){i.debug("Showing nag",s.animation.hide),s.animation.show,g.fadeOut(n,{duration:s.duration,easing:s.easing})},onHide:function(){i.debug("Removing nag",s.animation.hide),n.parentNode.removeChild(n),s.onHide&&s.onHide()},dismiss:function(e){s.storageMethod&&i.storage.set(s.key,s.value),i.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return s.persist?(i.debug("Persistent nag is set, can show nag"),!0):i.storage.get(s.key)!=s.value.toString()?(i.debug("Stored value is not set, can show nag",i.storage.get(s.key)),!0):(i.debug("Stored value is set, cannot show nag",i.storage.get(s.key)),!1)}},get:{storageOptions:function(){var e={};return s.expires&&(e.expires=s.expires),s.domain&&(e.domain=s.domain),s.path&&(e.path=s.path),e}},clear:function(){i.storage.remove(s.key)},storage:{set:function(e,o){var t=i.get.storageOptions();if("localstorage"==s.storageMethod&&u.localStorage!==m)u.localStorage.setItem(e,o),i.debug("Value stored using local storage",e,o);else if("sessionstorage"==s.storageMethod&&u.sessionStorage!==m)u.sessionStorage.setItem(e,o),i.debug("Value stored using session storage",e,o);else{if(d.cookie===m)return void i.error(a.noCookieStorage);d.cookie=e+"="+o+";expires="+t.expires+";path="+t.path,i.debug("Value stored using cookie",e,o,t)}},get:function(e,o){var t;if("localstorage"==s.storageMethod&&u.localStorage!==m)t=u.localStorage.getItem(e);else if("sessionstorage"==s.storageMethod&&u.sessionStorage!==m)t=u.sessionStorage.getItem(e);else if(d.cookie!==m){var n=new RegExp("[; ]"+e+"=([^\\s;]*)");t=(" "+d.cookie).match(n)[1]}else i.error(a.noCookieStorage);return"undefined"!=t&&"null"!=t&&t!==m&&null!==t||(t=m),t},remove:function(e){var o=i.get.storageOptions();"localstorage"==s.storageMethod&&u.localStorage!==m?u.localStorage.removeItem(e):"sessionstorage"==s.storageMethod&&u.sessionStorage!==m?u.sessionStorage.removeItem(e):d.cookie!==m?d.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path="+o.path:i.error(a.noStorage)}},setting:function(e,o){if(i.debug("Changing setting",e,o),g.isPlainObject(e))g.extend(!0,s,e);else{if(o===m)return s[e];g.isPlainObject(s[e])?g.extend(!0,s[e],o):s[e]=o}},internal:function(e,o){if(g.isPlainObject(e))g.extend(!0,i,e);else{if(o===m)return i[e];i[e]=o}},debug:function(){!s.silent&&s.debug&&(s.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,s.name+":"),i.debug.apply(console,arguments)))},verbose:function(){!s.silent&&s.verbose&&s.debug&&(s.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),i.verbose.apply(console,arguments)))},error:function(){s.silent||(i.error=Function.prototype.bind.call(console.error,console,s.name+":"),i.error.apply(console,arguments))},performance:{log:function(e){var o,t;s.performance&&(t=(o=(new Date).getTime())-(l||o),l=o,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:n,"Execution Time":t})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,500)},display:function(){var e=s.name+":",t=0;l=!1,clearTimeout(i.performance.timer),c.forEach(function(e,o){t+=e["Execution Time"]}),e+=" "+t+"ms",(console.group!==m||console.table!==m)&&0<c.length&&(console.groupCollapsed(e),console.table?console.table(c):c.forEach(function(e,o){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),c=[]}}}).initialize()}),o},g.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},$.extend($.easing,{easeOutQuad:function(e,o,t,n,i){return-n*(o/=i)*(o-2)+t}})}(vs,window,document);